@Kopernicus:FOR[ReformedSkies]
{
	useOnDemand = True
	Body
	{
		name = Kern

		Debug
		{
			exportMesh = True
			update = False
		}

		cacheFile = ReformedSkies/Cache/Kern.bin

		Template		
		{
			name = Duna
			removeAllPQSMods = True
		}

		Properties
		{
			displayName = Kern^N
			description = The dominant giant of the Inner Koltar system, Kern is a dust giant that rivals no other. A chocking atmosphere binding a sprawling, endless desert. Its surfaced is constantly ravaged by eternal duststorms and storms. Kerbal scientists initally believed Kern was a gas dwarf, but the extremely high density perplexed researchers until it was realised that Kern was a super-terrestrial world.
			radius = 2140000
			geeASL = 1.62
			rotationPeriod = 31267
			rotates = True
			tidallyLocked = False
			initialRotation = 0
			isHomeWorld = false
			timewarpAltitudeLimits = 1 2 3 4 5 6 7 8

			ScienceValues
			{
				landedDataValue = 4
				splashedDataValue = 0
				flyingLowDataValue = 4
				flyingHighDataValue = 3
				inSpaceLowDataValue = 2.5
				inSpaceHighDataValue = 2
				recoveryValue = 10
				flyingAltitudeThreshold = 35000
				spaceAltitudeThreshold = 350000
			}
		}
		
		Rings
		{
			Ring
			{
				angle = 1.81
				innerRadius = 1250
				outerRadius = 1600
				thickness = 1
				texture = ReformedSkies/PluginData/Kern/Kern_Rings.png
				color = 1,1,1,1
				unlit = false
				useNewShader = true
				penumbraMultipler = 1
				steps = 4096
				tiles = 50
				lockRotation = true
				rotationPeriod = 19107269.7877204
				longitudeofAscendingNode = 180
			}
		}

		Orbit
		{
			referenceBody = Sun
			color = RGBA(175,93,33,255)
			inclination = 0
			eccentricity = 0.01
			semiMajorAxis = 21847274000
			longitudeOfAscendingNode = 0
			argumentofPeriapsis = 0
			meanAnomalyAtEpoch = 0
			epoch = 123

			iconTexture = ReformedSkies/PluginData/Icons/Dust_World_Ringed.png
		}

		ScaledVersion
		{
			type = Atmospheric
			fadeStart = 150000
			fadeEnd = 270000

			OnDemand
			{
				texture = ReformedSkies/PluginData/Kern/Kern_Colour.png
				normals = ReformedSkies/PluginData/Kern/Kern_Normal.png
			}

			Material
			{
				rimPower = 3.54
				rimBlend = 0.81
				specColor = 0,0,0,0
				shininess = 0
				opacity = 1
				rimColorRamp = ReformedSkies/PluginData/Kern/Kern_ramp.png
				rimColorRampScale = 1,1
				rimColorRampOffset = 0,0
			}
		}

		PQS
		{
			fadeStart = 150000
			fadeEnd = 270000
			deactivateAltitude = 280000
			minDetailDistance = 6
			maxQuadLengthsPerFrame = 0.03
			minLevel = 2
			maxLevel = 12
			materialType = AtmosphericBasic
			
			Material
			{
				saturation = 1
				contrast = 1
				tintColor = 1,1,1,0
				powerNear = 0.95
				specularColor = 0,0,0,1
				powerFar = 0.9
				groundTexStart = 0
				groundTexEnd = 500
				albedoBrightness = 1.3
				steepPower = 1.5
				steepTexStart = 0
				steepTexEnd = 50000
				steepTex = BUILTIN/laythSteep_diff
				steepTexScale = 1,1
				steepTexOffset = 0,0
				steepBumpMap = BUILTIN/laytheSteep_nrm
				steepBumpMapScale = 1,1
				steepBumpMapOffset = 0,0
				steepNearTiling = 2500
				steepTiling = 35
				lowTex = BUILTIN/laytheLowMidQuality_diff
				lowTexScale = 1,1
				lowTexOffset = 0,0
				lowNearTiling = 15000
				lowMultiFactor = 120
				midTex = BUILTIN/laytheMed_diff
				midTexScale = 1,1
				midTexOffset = 0,0
				midBumpMap = BUILTIN/laytheMed_nrm
				midBumpMapScale = 1,1
				midBumpMapOffset = 0,0
				midNearTiling = 15000
				midMultiFactor = 12
				midBumpNearTiling = 15000
				highTex = BUILTIN/laytheSnow_diff
				highTexScale = 1,1
				highTexOffset = 0,0
				highNearTiling = 20000
				highMultiFactor = 100
				lowStart = 0
				lowEnd = 0.1
				highStart = 0.6
				highEnd = 1
				globalDensity = -8E-06
				fogColorRamp = BUILTIN/blue_atmogradient
				fogColorRampScale = 1,1
				fogColorRampOffset = 0,0
				planetOpacity = 0
				oceanFogDistance = 1000
			}
			FallbackMaterial
			{
				saturation = 1
				contrast = 2
				tintColor = 0.172549024,0.172549024,0.172549024,0.482352942
				texTiling = 4000
				texPower = 0.75
				multiPower = 0.75
				groundTexStart = 0
				groundTexEnd = 10000
				multiFactor = 100
				mainTex = BUILTIN/terrain_sand00
				mainTexScale = 1,1
				mainTexOffset = 0,0
				planetOpacity = 0
			}

			Mods
			{
				VertexHeightMap
				{
					map = ReformedSkies/PluginData/Kern/Kern_Height.png
					offset = -10000
					deformity = 26000
					scaleDeformityByRadius = false
					order = 1
					enabled = true
				}
				AerialPerspectiveMaterial
				{
					atmosphereDepth = 110000
					DEBUG_SetEveryFrame = True
					globalDensity = -1E-05
					heightFalloff = 6.75
					oceanDepth = 0
					order = 100
					enabled = True
					name = _Material_AerialPerspective
				}
				VertexHeightNoiseVertHeightCurve2
				{
					deformity = 1000
					ridgedAddFrequency = 500
					ridgedAddLacunarity = 2
					ridgedAddOctaves = 8
					ridgedAddSeed = 136534
					ridgedMode = Low
					ridgedSubFrequency = 500
					ridgedSubLacunarity = 5
					ridgedSubOctaves = 8
					ridgedSubSeed = 476547
					simplexFrequency = 50
					simplexHeightEnd = 0
					simplexHeightStart = -1
					simplexOctaves = 3.5
					simplexPersistence = 3
					simplexSeed = 782343
					order = 2
					enabled = true
					name = HeightNoise1
					index = 0
					simplexCurve
					{
						key = 0 0 0 0
						key = 0.1 0 0 0
						key = 0.2 0.2 0.1 0.1
						key = 0.8 0.5 0.5 0.5
						key = 1 0.8 1.005844 1.005844
					}
				}

				VertexHeightNoiseVertHeightCurve2
				{
					deformity = 2000
					ridgedAddFrequency = 200
					ridgedAddLacunarity = 2
					ridgedAddOctaves = 6
					ridgedAddSeed = 65134
					ridgedMode = Low
					ridgedSubFrequency = 70
					ridgedSubLacunarity = 3
					ridgedSubOctaves = 1
					ridgedSubSeed = 476547
					simplexFrequency = 100
					simplexHeightEnd = 0
					simplexHeightStart = -1
					simplexOctaves = 1
					simplexPersistence = 1
					simplexSeed = 365123
					order = 3
					enabled = true
					name = HeightNoise1
					index = 0
					simplexCurve
					{
						key = 0 0 0 0
						key = 0.1 0 0 0
						key = 0.2 0.2 0.1 0.1
						key = 0.8 0.5 0.5 0.5
						key = 1 0.8 1.005844 1.005844
					}
				}

				VertexColorMap
				{
					map = ReformedSkies/PluginData/Kern/Kern_Colour.png
					order = 5
					enabled = True
				}
			}
		}

		Atmosphere
		{
			enabled = true
			oxygen = false
			staticDensityASL = 0.764571404126208
			adiabaticIndex = 1.39999997615814
			atmosphereDepth = 110000
			gasMassLapseRate = 4.84741125702493
			atmosphereMolarMass = 0.0289644002914429
			pressureCurveIsNormalized = False
			staticPressureASL = 1013.25
			temperatureCurveIsNormalized = False
			temperatureLapseRate = 0.00564
			temperatureSeaLevel = 571.15
			ambientColor = 1,0.514960408,0.160258129,1
			lightColor = 0.5105986,0.237182006,0.160256192,1
			addAFG = True
			pressureCurve
			{
				key =	0	1013.25	-9.84989090909091E-02	-9.84989090909091E-02
				key =	5500	471.506	-6.94545454545455E-02	-6.94545454545455E-02
				key =	11000	249.25	-3.05410363636364E-02	-3.05410363636364E-02
				key =	16500	135.5546	-1.59838909090909E-02	-1.59838909090909E-02
				key =	22000	73.4272	-8.29683636363636E-03	-8.29683636363636E-03
				key =	27500	44.2894	-4.36434545454545E-03	-4.36434545454545E-03
				key =	33000	25.4194	-2.8268E-03	-2.8268E-03
				key =	38500	13.1946	-1.75276363636364E-03	-1.75276363636364E-03
				key =	44000	6.139	-9.46981818181818E-04	-9.46981818181818E-04
				key =	49500	2.7778	-4.09363636363636E-04	-4.09363636363636E-04
				key =	55000	1.636	-1.46636363636364E-04	-1.46636363636364E-04
				key =	60500	1.1648	-7.67454545454545E-05	-7.67454545454545E-05
				key =	66000	0.7918	-5.98545454545455E-05	-5.98545454545455E-05
				key =	71500	0.5064	-4.49272727272727E-05	-4.49272727272727E-05
				key =	77000	0.2976	-3.19818181818182E-05	-3.19818181818182E-05
				key =	82500	0.1546	-2.10363636363636E-05	-2.10363636363636E-05
				key =	88000	0.0662	-1.20545454545455E-05	-1.20545454545455E-05
				key =	93500	0.022	-5.09090909090909E-06	-5.09090909090909E-06
				key =	99000	0.0102	-1.65454545454545E-06	-1.65454545454545E-06
				key =	104500	0.0038	-9.27272727272727E-07	-9.27272727272727E-07
				key =	110000	0	-6.90909090909091E-07	-6.90909090909091E-07
			}
			temperatureCurve
			{
				key =	0	571.15	-0.005833333636	-0.005833333636
				key =	13200	421.1293621	-0.0008262352727	-0.0008236883636
				key =	23100	421.1293621	0.0008236883636	0.0008236883636
				key =	34100	528.2869606	0.0004501949091	0.0004501949091
				key =	61600	528.2869606	-0.0006208439091	-0.0006208439091
				key =	88000	364.6280829	-0.0008262352727	-0.0008262352727
				key =	99000	364.6280829	0.0004307040909	0.0004307040909
				key =	110000	448.4058417	0.0006314582727	0.0006314582727
				key =	165000	0	-0.0004087355455	-0.0004087355455
			}
			temperatureSunMultCurve
			{
				key =	0	1	0	0
				key =	8461.538462	0.5	-0.00005454545455	-0.00009331354545
				key =	9323.794616	0	0	0
				key =	16976.36769	0	0	0
				key =	40064.7923	0.2	0	0
				key =	60753.98154	0.2	0	0
				key =	77245.04611	0	0	0
				key =	110000	0.4	0	0
			}
			temperatureLatitudeBiasCurve
			{
				key = 0 5 0 -0.04354425
				key = 50 1 -0.2132 -0.2132
				key = 70 -10 -1.128971 -1.128971
				key = 90 -30 -0.02418368 0
			}
			temperatureLatitudeSunMultCurve
			{
				key = 0 6 0 0.02746098
				key = 40 9 0.2094055 0.2094055
				key = 65 11 0 0
				key = 90 2 0 0
			}
			AtmosphereFromGround
			{
				waveLength = 0.591880798,0.762821257,0.920940578,0.5
				invWaveLength = 8.14822483,2.95330882,1.39018798,0.5
			}
		}
	}
}